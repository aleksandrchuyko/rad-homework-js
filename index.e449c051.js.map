{"mappings":"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","sources":["src/data/notes.json","src/data/categories.json","src/js/utils/countCategories.js","src/js/render.js","src/js/refs.js","src/js/utils/parseDates.js","src/js/utils/addNote.js","src/js/utils/deleteNote.js","src/js/utils/editNote.js","src/js/utils/removeToArchive.js","src/js/utils/unarchive.js","src/js/handlers.js","src/index.js"],"sourcesContent":["[\n  {\n    \"id\": \"0\",\n    \"createdAt\": \"1/5/2023\",\n    \"content\": \"It's time to return the books to the library\",\n    \"category\": \"Random Thought\",\n    \"active\": false,\n    \"dates\": []\n  },\n  {\n    \"id\": \"1\",\n    \"createdAt\": \"3/5/2023\",\n    \"content\": \"I need ketchup, it's time to go to the store\",\n    \"category\": \"Task\",\n    \"active\": true,\n    \"dates\": []\n  },\n  {\n    \"id\": \"2\",\n    \"createdAt\": \"16/5/2023\",\n    \"content\": \"Who painted the fence?\",\n    \"category\": \"Random Thought\",\n    \"active\": true,\n    \"dates\": []\n  },\n  {\n    \"id\": \"3\",\n    \"createdAt\": \"1/6/2023\",\n    \"content\": \"Sport - is life...\",\n    \"category\": \"Idea\",\n    \"active\": true,\n    \"dates\": []\n  },\n  {\n    \"id\": \"4\",\n    \"createdAt\": \"7/6/2023\",\n    \"content\": \"I'm gonna have a dentist appointment on the 3/5/2021, I moved it from 5/5/2021\",\n    \"category\": \"Task\",\n    \"active\": true,\n    \"dates\": [\"3/5/2021\", \"5/5/2021\"]\n  },\n  {\n    \"id\": \"5\",\n    \"createdAt\": \"21/6/2023\",\n    \"content\": \"Isn't it time to visit grandmother in the village?\",\n    \"category\": \"Random Thought\",\n    \"active\": true,\n    \"dates\": []\n  },\n  {\n    \"id\": \"6\",\n    \"createdAt\": \"22/6/2023\",\n    \"content\": \"It would be wonderful to start my own business\",\n    \"category\": \"Idea\",\n    \"active\": true,\n    \"dates\": []\n  },\n  {\n    \"id\": \"7\",\n    \"createdAt\": \"10/7/2023\",\n    \"content\": \"My smartphone needs an OS update. Maybe at 12/7/2023\",\n    \"category\": \"Task\",\n    \"active\": true,\n    \"dates\": [\"12/7/2023\"]\n  }\n]\n","[\"Random Thought\", \"Task\", \"Idea\"]\n","export const countCategories = (notes) => {\n  return notes.reduce((acc, item) => {\n    let categoryIndex = acc.findIndex(\n      inner => inner.name === item.category\n    );\n    if (categoryIndex > -1) {\n      if (item.active) {\n        acc[categoryIndex].active += 1;\n      } else {\n        acc[categoryIndex].archived += 1;\n      }\n    } else {\n      if (item.active) {\n        acc = [...acc, { name: item.category, active: 1, archived: 0 }];\n      } else {\n        acc = [...acc, { name: item.category, active: 0, archived: 1 }];\n      }\n    }\n    return acc;\n  }, []);\n};\n","import { countCategories } from './utils/countCategories';\n\nconst noteList = document.querySelector('.noteList');\nconst statisticList = document.querySelector('.statistic');\nconst archiveList = document.querySelector('.archiveList');\n\nexport const render = notes => {\n\tlet notesMarkup = notes.reduce((acc, note) => {\n\t\tif (note.active !== true) {\n\t\t\treturn acc;\n\t\t}\n    return (acc += `<tr>\n            <td>${note.createdAt}</td>\n            <td>${note.category}</td>\n            <td>${note.content}</td>\n            <td>${note.dates}</td>\n            <td>\n              <button type=\"button\" class=\"edit-btn\" data-id=\"${note.id}\">\n                Edit\n              </button><button type=\"button\" class=\"archive-btn\" data-id=\"${note.id}\">\n                Archive\n              </button>\n              <button type=\"button\" class=\"delete-btn\" data-id=\"${note.id}\">\n                Delete\n              </button>\n            </td>\n          </tr>`);\n  }, ``);\n\n  noteList.innerHTML = notesMarkup;\n  \n  let categories = countCategories(notes);\n  \n  let statisticMarkup = categories.reduce((acc, category) => {\n    return (acc += `<tr>\n            <td>${category.name}</td>\n            <td>${category.active}</td>\n            <td>${category.archived}</td>\n          </tr>`);\n  }, ``);\n\n  statisticList.innerHTML = statisticMarkup;\n\n  let archivedMarkup = notes.reduce((acc, note) => {\n    if (note.active === true) {\n\t\t\treturn acc;\n\t\t}\n    return (acc += `<tr>\n            <td>${note.createdAt}</td>\n            <td>${note.category}</td>\n            <td>${note.content}</td>\n            <td>\n              <button type=\"button\" class=\"unarchive-btn\" data-id=\"${note.id}\">\n                Unarchive\n              </button>\n              <button type=\"button\" class=\"delete-btn\" data-id=\"${note.id}\">\n                Delete\n              </button>\n            </td>\n          </tr>`);\n  }, ``);\n\n  archiveList.innerHTML = archivedMarkup;\n\n};\n","export const noteList = document.querySelector('.noteList');\nexport const archiveList = document.querySelector('.archiveList');\n\nexport const backdropNew = document.querySelector('.backdrop-new');\nexport const addForm = document.querySelector('.add-form');\nexport const addButton = document.querySelector('.add-note');\nexport const addModalCloseButton = document.querySelector('.modal-new__close');\n\nexport const backdropEdit = document.querySelector('.backdrop-edit');\nexport const editForm = document.querySelector('.edit-form');\nexport const editModalCloseButton = document.querySelector('.modal-edit__close');\n\nexport const backdropArchive = document.querySelector('.backdrop-archive');\nexport const showArchiveButton = document.querySelector('.show-archive');\nexport const archiveModalCloseButton = document.querySelector('.modal-archive__close');\n","export const parseDates = str => {\n  const matches = [];\n  matches.push(str.match(/[1-3]?[0-9]\\/[1]?[0-9]\\/\\d{4}/g));\n\n  return matches;\n};\n","import { parseDates } from './parseDates';\n\nexport const addNote = (notes, formRef) => {\n  notes = JSON.parse(JSON.stringify(notes));\n  let date = new Date();\n  return [\n    ...notes,\n    {\n      id: `${+notes[notes.length - 1].id + 1}`,\n      createdAt:\n        parseInt(date.getDate()) +\n        '/' +\n        parseInt(date.getMonth() + 1) +\n        '/' +\n        date.getFullYear(),\n      content: formRef.target.content.value,\n      category: formRef.target.category.value,\n      active: true,\n      dates: parseDates(formRef.target.content.value),\n    },\n  ];\n};\n","export const deleteNote = (notes, id) => {\n\tconst newNotes = JSON.parse(JSON.stringify(notes));\n\treturn newNotes.filter(item => item.id !== id);\n}","import { parseDates } from './parseDates';\n\nexport const editNote = (notes, id, content) => {\n\tlet index = notes.findIndex(item => item.id === id);\n\tconst newNotes = JSON.parse(JSON.stringify(notes));\n\tnewNotes[index].content = content;\n\tnewNotes[index].dates = parseDates(content);\n\treturn newNotes;\n};\n","export const removeToArchive = (notes, id) => { \n\tnotes = JSON.parse(JSON.stringify(notes));\n\tlet note = notes.find(item => item.id === id);\n\tnote.active = false;\n\treturn notes;\n}","export const unarchive = (notes, id) => {\n\tnotes = JSON.parse(JSON.stringify(notes));\n\tlet note = notes.find(item => item.id === id);\n\tnote.active = true;\n\treturn notes;\n}","import {\n  backdropNew,\n  addForm,\n  addButton,\n  addModalCloseButton,\n  backdropEdit,\n  editForm,\n  editModalCloseButton,\n  noteList,\n  backdropArchive,\n  showArchiveButton,\n  archiveModalCloseButton,\n  archiveList,\n} from './refs';\n// import { notes } from '../index';\nimport { render } from './render';\nimport { addNote } from './utils/addNote';\nimport { deleteNote } from './utils/deleteNote';\nimport { editNote } from './utils/editNote';\nimport { removeToArchive } from './utils/removeToArchive';\nimport { unarchive } from './utils/unarchive';\n\naddForm.addEventListener('submit', e => {\n  e.preventDefault();\n\n  global.notes = addNote(global.notes, e);\n\n  e.target.content.value = '';\n  backdropNew.classList.add(['is-hidden']);\n\n  render(global.notes);\n});\n\naddButton.addEventListener('click', () => {\n  backdropNew.classList.remove(['is-hidden']);\n});\n\naddModalCloseButton.addEventListener('click', () => {\n  backdropNew.classList.add(['is-hidden']);\n});\n\neditForm.addEventListener('submit', e => {\n  e.preventDefault();\n\n  global.notes = editNote(\n    global.notes,\n    e.target.noteId.value,\n    e.target.content.value\n  );\n\n  e.target.noteId.value = '';\n  e.target.content.value = '';\n  backdropEdit.classList.add(['is-hidden']);\n\n  render(global.notes);\n});\n\nnoteList.addEventListener('click', e => {\n  if (!e.target.classList.contains('edit-btn')) {\n    return;\n  }\n  let id = e.target.dataset.id;\n  editForm.elements['noteId'].value = id;\n  backdropEdit.classList.remove(['is-hidden']);\n});\n\neditModalCloseButton.addEventListener('click', () => {\n  backdropEdit.classList.add(['is-hidden']);\n});\n\nnoteList.addEventListener('click', e => {\n  if (!e.target.classList.contains('delete-btn')) {\n    return;\n  }\n  let id = e.target.dataset.id;\n  global.notes = deleteNote(global.notes, id);\n\n  render(global.notes);\n});\n\nnoteList.addEventListener('click', e => {\n  if (!e.target.classList.contains('archive-btn')) {\n    return;\n  }\n  let id = e.target.dataset.id;\n  global.notes = removeToArchive(global.notes, id);\n\n  render(global.notes);\n});\n\nshowArchiveButton.addEventListener('click', () => {\n  backdropArchive.classList.remove(['is-hidden']);\n});\n\narchiveModalCloseButton.addEventListener('click', () => {\n  backdropArchive.classList.add(['is-hidden']);\n});\n\narchiveList.addEventListener('click', e => {\n  if (!e.target.classList.contains('unarchive-btn')) {\n    return;\n  }\n  let id = e.target.dataset.id;\n  global.notes = unarchive(global.notes, id);\n\n  render(global.notes);\n});\n\narchiveList.addEventListener('click', e => {\n  if (!e.target.classList.contains('delete-btn')) {\n    return;\n  }\n  let id = e.target.dataset.id;\n  global.notes = deleteNote(global.notes, id);\n\n  render(global.notes);\n});\n","import initNotes from './data/notes.json';\nimport initCategories from './data/categories.json';\nimport { render } from './js/render';\n\nglobal.notes = [...initNotes];\nconst categories = [...initCategories];\n\n\nimport './js/handlers';\n\nrender(global.notes);"],"names":["$7d57830724c85aaf$exports","JSON","parse","$8f86a087287f9d06$exports","$f156c9aecd3ce10c$export$6190ee785974c30e","notes","reduce","acc","item","categoryIndex","findIndex","inner","name","category","active","archived","$0e271c871dabf025$var$noteList","document","querySelector","$0e271c871dabf025$var$statisticList","$0e271c871dabf025$var$archiveList","$0e271c871dabf025$export$b3890eb0ae9dca99","notesMarkup","note","createdAt","content","dates","id","innerHTML","statisticMarkup","archivedMarkup","$ee27a4d7c64fc8c4$export$aa0fa6086756eadd","$ee27a4d7c64fc8c4$export$ef609e15faa057b0","$ee27a4d7c64fc8c4$export$9be75383bb9a1717","$ee27a4d7c64fc8c4$export$7515af2be4a44de6","$ee27a4d7c64fc8c4$export$76174c80c75f9baa","$ee27a4d7c64fc8c4$export$b8ef16641830766f","$ee27a4d7c64fc8c4$export$72b979ea849392b4","$ee27a4d7c64fc8c4$export$ea78f09344cc9c74","$ee27a4d7c64fc8c4$export$4c2fa87410c50f11","$ee27a4d7c64fc8c4$export$dbb5ff36997376b3","$ee27a4d7c64fc8c4$export$f285d347764012ce","$ee27a4d7c64fc8c4$export$d1ae418911ac7fbc","$e57e59eeb93721c6$export$4344a679afc8cef0","str","matches","push","match","$b02b96bf4c48f064$export$79159e21a6bceab7","formRef","stringify","date","Date","length","parseInt","getDate","getMonth","getFullYear","target","value","$06b8a4e3096fe017$export$8920e10839f33c45","filter","$3b8063c5d32d0b5f$export$b5544a2ab4d514b4","index","newNotes","$ea6b0393a3eef119$export$c8ee6135d147d208","find","$07d761b04b9fa0c7$export$d6697ab53707e7fe","addEventListener","e","preventDefault","$parcel$global","classList","add","remove","noteId","contains","dataset","elements","$parcel$interopDefault"],"version":3,"file":"index.e449c051.js.map"}