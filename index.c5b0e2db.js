var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function e(t){return t&&t.__esModule?t.default:t}var n;n=JSON.parse('[{"id":"0","createdAt":"1/5/2023","content":"It\'s time to return the books to the library","category":"Random Thought","active":false,"dates":[]},{"id":"1","createdAt":"3/5/2023","content":"I need ketchup, it\'s time to go to the store","category":"Task","active":true,"dates":[]},{"id":"2","createdAt":"16/5/2023","content":"Who painted the fence?","category":"Random Thought","active":true,"dates":[]},{"id":"3","createdAt":"1/6/2023","content":"Sport - is life...","category":"Idea","active":true,"dates":[]},{"id":"4","createdAt":"7/6/2023","content":"I\'m gonna have a dentist appointment on the 3/5/2021, I moved it from 5/5/2021","category":"Task","active":true,"dates":["3/5/2021","5/5/2021"]},{"id":"5","createdAt":"21/6/2023","content":"Isn\'t it time to visit grandmother in the village?","category":"Random Thought","active":true,"dates":[]},{"id":"6","createdAt":"22/6/2023","content":"It would be wonderful to start my own business","category":"Idea","active":true,"dates":[]},{"id":"7","createdAt":"10/7/2023","content":"My smartphone needs an OS update. Maybe at 12/7/2023","category":"Task","active":true,"dates":["12/7/2023"]}]');var a;a=JSON.parse('["Random Thought","Task","Idea"]');const d=t=>t.reduce(((t,e)=>{let n=t.findIndex((t=>t.name===e.category));return n>-1?e.active?t[n].active+=1:t[n].archived+=1:t=e.active?[...t,{name:e.category,active:1,archived:0}]:[...t,{name:e.category,active:0,archived:1}],t}),[]),r=document.querySelector(".noteList"),i=document.querySelector(".statistic"),c=document.querySelector(".archiveList"),o=t=>{try{let e=t.reduce(((t,e)=>!0!==e.active?t:t+`<tr>\n            <td>${e.createdAt}</td>\n            <td>${e.category}</td>\n            <td>${e.content}</td>\n            <td>${e.dates}</td>\n            <td>\n              <button type="button" class="edit-btn" data-id="${e.id}">\n                Edit\n              </button><button type="button" class="archive-btn" data-id="${e.id}">\n                Archive\n              </button>\n              <button type="button" class="delete-btn" data-id="${e.id}">\n                Delete\n              </button>\n            </td>\n          </tr>`),"");r.innerHTML=e;let n=d(t).reduce(((t,e)=>t+`<tr>\n            <td>${e.name}</td>\n            <td>${e.active}</td>\n            <td>${e.archived}</td>\n          </tr>`),"");i.innerHTML=n;let a=t.reduce(((t,e)=>!0===e.active?t:t+`<tr>\n            <td>${e.createdAt}</td>\n            <td>${e.category}</td>\n            <td>${e.content}</td>\n            <td>\n              <button type="button" class="unarchive-btn" data-id="${e.id}">\n                Unarchive\n              </button>\n              <button type="button" class="delete-btn" data-id="${e.id}">\n                Delete\n              </button>\n            </td>\n          </tr>`),"");c.innerHTML=a}catch(t){alert("Incorrect data! Unable to render...")}},s=document.querySelector(".noteList"),l=document.querySelector(".archiveList"),u=document.querySelector(".backdrop-new"),v=document.querySelector(".add-form"),g=document.querySelector(".add-note"),h=document.querySelector(".modal-new__close"),y=document.querySelector(".backdrop-edit"),m=document.querySelector(".edit-form"),b=document.querySelector(".modal-edit__close"),f=document.querySelector(".backdrop-archive"),L=document.querySelector(".show-archive"),p=document.querySelector(".modal-archive__close"),S=t=>{const e=[];return e.push(t.match(/[1-3]?[0-9]\/[1]?[0-9]\/\d{4}/g)),e},k=(t,e)=>{t=JSON.parse(JSON.stringify(t));let n=new Date;return[...t,{id:""+(+t[t.length-1].id+1),createdAt:parseInt(n.getDate())+"/"+parseInt(n.getMonth()+1)+"/"+n.getFullYear(),content:e.target.content.value,category:e.target.category.value,active:!0,dates:S(e.target.content.value)}]},I=(t,e)=>JSON.parse(JSON.stringify(t)).filter((t=>t.id!==e)),q=(t,e,n)=>{let a=t.findIndex((t=>t.id===e));const d=JSON.parse(JSON.stringify(t));return d[a].content=n,d[a].dates=S(n),d},$=(t,e)=>((t=JSON.parse(JSON.stringify(t))).find((t=>t.id===e)).active=!1,t),E=(t,e)=>((t=JSON.parse(JSON.stringify(t))).find((t=>t.id===e)).active=!0,t);v.addEventListener("submit",(e=>{e.preventDefault(),t.notes=k(t.notes,e),e.target.content.value="",u.classList.add(["is-hidden"]),o(t.notes)})),g.addEventListener("click",(()=>{u.classList.remove(["is-hidden"])})),h.addEventListener("click",(()=>{u.classList.add(["is-hidden"])})),m.addEventListener("submit",(e=>{e.preventDefault(),t.notes=q(t.notes,e.target.noteId.value,e.target.content.value),e.target.noteId.value="",e.target.content.value="",y.classList.add(["is-hidden"]),o(t.notes)})),s.addEventListener("click",(t=>{if(!t.target.classList.contains("edit-btn"))return;let e=t.target.dataset.id;m.elements.noteId.value=e,y.classList.remove(["is-hidden"])})),b.addEventListener("click",(()=>{y.classList.add(["is-hidden"])})),s.addEventListener("click",(e=>{if(!e.target.classList.contains("delete-btn"))return;let n=e.target.dataset.id;t.notes=I(t.notes,n),o(t.notes)})),s.addEventListener("click",(e=>{if(!e.target.classList.contains("archive-btn"))return;let n=e.target.dataset.id;t.notes=$(t.notes,n),o(t.notes)})),L.addEventListener("click",(()=>{f.classList.remove(["is-hidden"])})),p.addEventListener("click",(()=>{f.classList.add(["is-hidden"])})),l.addEventListener("click",(e=>{if(!e.target.classList.contains("unarchive-btn"))return;let n=e.target.dataset.id;t.notes=E(t.notes,n),o(t.notes)})),l.addEventListener("click",(e=>{if(!e.target.classList.contains("delete-btn"))return;let n=e.target.dataset.id;t.notes=I(t.notes,n),o(t.notes)})),t.notes=[...e(n)];o(t.notes);
//# sourceMappingURL=index.c5b0e2db.js.map
